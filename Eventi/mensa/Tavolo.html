<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Scena A-Frame con movimento verticale (E e Q)</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
    
    <!-- Script per movimento verticale con E e Q -->
    <script>
      AFRAME.registerComponent('vertical-controls', {
        schema: {
          speed: {type: 'number', default: 2}  // velocità salita/discesa
        },
        init: function () {
          this.velocity = 0;
          this.keys = {};
          window.addEventListener('keydown', (e) => this.keys[e.code] = true);
          window.addEventListener('keyup', (e) => this.keys[e.code] = false);
        },
        tick: function (time, deltaTime) {
          const el = this.el;
          const pos = el.object3D.position;
          const d = deltaTime / 1000;
          const speed = this.data.speed;

          // Tasti E (su) e Q (giù)
          if (this.keys['KeyE']) pos.y += speed * d;
          if (this.keys['KeyQ']) pos.y -= speed * d;
        }
      });
    </script>
  </head>

  <body>
    <a-scene background="color: #ECECEC">
      <!-- Luci -->
      <a-light type="ambient" color="#888"></a-light>
      <a-light type="directional" intensity="0.6" position="2 4 2"></a-light>

      <!-- Controlli giocatore -->
      <a-entity 
        id="player" 
        movement-controls="fly: true; acceleration: 50" 
        vertical-controls="speed: 3"
        position="0 1.6 4">
        <a-entity camera look-controls wasd-controls></a-entity>
      </a-entity>

      <!-- Bottiglia -->
      <a-entity 
        gltf-model="water_bottle.glb" 
        position="2.5 3.15 12" 
        scale="0.05 0.05 0.05">
      </a-entity>

      <!-- Pane -->
      <a-entity
        gltf-model="bread.glb"
        position="1.8 3.1 9.5"
        scale="0.4 0.4 0.4">
      </a-entity>

      <!-- Bicchiere -->
      <a-entity
        gltf-model="glass.glb"
        position="3.8 3.3 12"
        scale="0.2 0.2 0.2">
      </a-entity>

      <!-- Tavolo con sedie -->
      <a-entity
        gltf-model="tables_and_chairs.glb"
        position="7 4 0"
        scale="4 4 4"
        >
      </a-entity>

      <!-- Cibo su vassoio giallo -->
      <a-entity
      gltf-model="udon_meal.glb"
      position="7.5 4.1 0"
      scale="0.3 0.3 0.3"
      rotation="0 270 0"
      >
    </a-entity>

    <a-entity
    gltf-model="food_collection.glb"
    position="7.9 4.05 -3"
    scale="0.9 0.9 0.9"
    rotation="0 180 0"
    >
    </a-entity>

    <a-entity
    gltf-model="fast-food.glb"
    position="3.9 3.2 10"
    scale="3 3 3"
    >
    </a-entity>

    <a-entity
    gltf-model="food_pack.glb"
    position="-12.5 3.2 15"
    scale="7 7 7"
    rotation="0 90 0"
    >
    </a-entity>

    <a-entity
    gltf-model="modern_fridge.glb"
    position="1.6 3 -51.4"
    scale="5 5 5"
    rotation="0 90 0"
    >
    </a-entity>

    <a-entity
    gltf-model="pizza_free.glb"
    position="-35 2.8 -26"
    scale="1 1 1"
    >
    </a-entity>

    <a-entity
    gltf-model="cake_3d_model_free.glb"
    position="-35 3 -4"
    scale="0.1 0.1 0.1"
    >
    </a-entity>

    <a-entity
    gltf-model="indian_thali__free.glb"
    position="-34 3 -3.5"
    scale="25 25 25"
    >
    </a-entity>

    <a-entity
      gltf-model="for_pashapashas_diner.glb"
      position="0 0 0"
      scale="0.1 0.1 0.1"
    ></a-entity>
    </a-scene>
  </body>
</html>
